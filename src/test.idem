type    bool = False | True
type     nat = Z | S of nat
type 'a list = Nil | Cons of 'a * 'a list

iso rec len = case
| []      <-> (0, [])
| x :: xs <-> let (n, xs) = len xs in (S n, x :: xs) in

iso rec map f = case
| []      <-> []
| x :: xs <-> f x :: map f xs in

iso rec split = case
| []          <-> ([], [])
| (x, y) :: t <-> let (xs, ys) = split t in (x :: xs, y :: ys) in

split (map len [[True; False]; []; [False]])

